{% load i18n static %}
<!--begin::Aside Menu-->
<div class="hover-scroll-overlay-y my-5 my-lg-5" id="kt_aside_menu_wrapper"
     data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}"
     data-kt-scroll-height="auto"
     data-kt-scroll-dependencies="#kt_aside_logo, #kt_aside_footer"
     data-kt-scroll-wrappers="#kt_aside_menu" data-kt-scroll-offset="0">
  <!--begin::Menu-->
  <div
    class="menu menu-column menu-title-gray-800 menu-state-title-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500"
    id="#kt_aside_menu" data-kt-menu="true">
    {% if user.is_superuser %}
      <div class="menu-item">
        <div class="menu-content pb-2">
          <span
            class="menu-section text-muted text-uppercase fs-8 ls-1">{% translate 'Configurations' %}</span>
        </div>
      </div>

      <!--TODO: Menu management-->
      {% if ENABLE_MENU_SETTINGS %}
        <div class="menu-item">
          <a class="menu-link" href="{% url 'settings:list' %}"
             title="{% translate 'Settings' %}"
             data-bs-toggle="tooltip" data-bs-trigger="hover"
             data-bs-dismiss="click" data-bs-placement="right">
              <span class="menu-icon">
                <!--begin::Svg Icon | path: icons/duotune/general/gen019.svg-->
                <span class="svg-icon svg-icon-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24"
                       height="24" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M17.5 11H6.5C4 11 2 9 2 6.5C2 4 4 2 6.5 2H17.5C20 2 22 4 22 6.5C22 9 20 11 17.5 11ZM15 6.5C15 7.9 16.1 9 17.5 9C18.9 9 20 7.9 20 6.5C20 5.1 18.9 4 17.5 4C16.1 4 15 5.1 15 6.5Z"
                      fill="black"></path>
                    <path opacity="0.3"
                          d="M17.5 22H6.5C4 22 2 20 2 17.5C2 15 4 13 6.5 13H17.5C20 13 22 15 22 17.5C22 20 20 22 17.5 22ZM4 17.5C4 18.9 5.1 20 6.5 20C7.9 20 9 18.9 9 17.5C9 16.1 7.9 15 6.5 15C5.1 15 4 16.1 4 17.5Z"
                          fill="black"></path>
                  </svg>
                </span>
                <!--end::Svg Icon-->
              </span>
            <span class="menu-title">{% translate 'Settings' %}</span>
          </a>
        </div>
      {% endif %}

      {% if ENABLE_MENU_EMAIL_TEMPLATE %}
        <div class="menu-item">
          <a class="menu-link" href="{% url 'emails:list' %}"
             title="{% translate 'Email Templates' %}"
             data-bs-toggle="tooltip" data-bs-trigger="hover"
             data-bs-dismiss="click" data-bs-placement="right">
              <span class="menu-icon">
                <!--begin::Svg Icon | path: icons/duotune/communication/com011.svg-->
                  <span class="svg-icon svg-icon-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24"
                         height="24" viewBox="0 0 24 24" fill="none">
                      <path opacity="0.3"
                            d="M21 19H3C2.4 19 2 18.6 2 18V6C2 5.4 2.4 5 3 5H21C21.6 5 22 5.4 22 6V18C22 18.6 21.6 19 21 19Z"
                            fill="black"></path>
                      <path
                        d="M21 5H2.99999C2.69999 5 2.49999 5.10005 2.29999 5.30005L11.2 13.3C11.7 13.7 12.4 13.7 12.8 13.3L21.7 5.30005C21.5 5.10005 21.3 5 21 5Z"
                        fill="black"></path>
                    </svg>
                  </span>
                <!--end::Svg Icon-->
              </span>
            <span class="menu-title">{% translate 'Email Templates' %}</span>
          </a>
        </div>
      {% endif %}

      <div data-kt-menu-trigger="click" class="menu-item menu-accordion mb-1">
        <span class="menu-link">
          <span class="menu-icon">
            <!--begin::Svg Icon | path: assets/media/icons/duotune/communication/com014.svg-->
            <span class="svg-icon svg-icon-muted svg-icon-2hx">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path
                  d="M16.0173 9H15.3945C14.2833 9 13.263 9.61425 12.7431 10.5963L12.154 11.7091C12.0645 11.8781 12.1072 12.0868 12.2559 12.2071L12.6402 12.5183C13.2631 13.0225 13.7556 13.6691 14.0764 14.4035L14.2321 14.7601C14.2957 14.9058 14.4396 15 14.5987 15H18.6747C19.7297 15 20.4057 13.8774 19.912 12.945L18.6686 10.5963C18.1487 9.61425 17.1285 9 16.0173 9Z"
                  fill="currentColor"/>
                <rect opacity="0.3" x="14" y="4" width="4" height="4" rx="2" fill="currentColor"/>
                <path
                  d="M4.65486 14.8559C5.40389 13.1224 7.11161 12 9 12C10.8884 12 12.5961 13.1224 13.3451 14.8559L14.793 18.2067C15.3636 19.5271 14.3955 21 12.9571 21H5.04292C3.60453 21 2.63644 19.5271 3.20698 18.2067L4.65486 14.8559Z"
                  fill="currentColor"/>
                <rect opacity="0.3" x="6" y="5" width="6" height="6" rx="3" fill="currentColor"/>
              </svg>
            </span>
            <!--end::Svg Icon-->
          </span>
          <span class="menu-title">{% translate 'User Management' %}</span>
          <span class="menu-arrow"></span>
        </span>
        <div class="menu-sub menu-sub-accordion">
          <div class="menu-item">
            <a class="menu-link" href="#">
                <span class="menu-bullet">
                  <span class="bullet bullet-dot"></span>
                </span>
              <span class="menu-title">{% translate 'Users' %}</span>
            </a>
          </div>
          <div class="menu-item">
            <a class="menu-link" href="#" data-url="{% url 'auth:group-list' %}" onclick="menu_item_click(this)">
                <span class="menu-bullet">
                  <span class="bullet bullet-dot"></span>
                </span>
              <span class="menu-title">{% translate 'Groups' %}</span>
            </a>
          </div>
        </div>
      </div>

      {% if ENABLE_MENU_PAGES %}
        <div data-kt-menu-trigger="click" class="menu-item menu-accordion mb-1">
        <span class="menu-link">
          <span class="menu-icon">
            <!--begin::Svg Icon | path: icons/duotune/ecommerce/ecm007.svg-->
            <span class="svg-icon svg-icon-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24"
                   height="24" viewBox="0 0 24 24" fill="none">
                <path
                  d="M21 9V11C21 11.6 20.6 12 20 12H14V8H20C20.6 8 21 8.4 21 9ZM10 8H4C3.4 8 3 8.4 3 9V11C3 11.6 3.4 12 4 12H10V8Z"
                  fill="black"></path>
                <path
                  d="M15 2C13.3 2 12 3.3 12 5V8H15C16.7 8 18 6.7 18 5C18 3.3 16.7 2 15 2Z"
                  fill="black"></path>
                <path opacity="0.3"
                      d="M9 2C10.7 2 12 3.3 12 5V8H9C7.3 8 6 6.7 6 5C6 3.3 7.3 2 9 2ZM4 12V21C4 21.6 4.4 22 5 22H10V12H4ZM20 12V21C20 21.6 19.6 22 19 22H14V12H20Z"
                      fill="black"></path>
              </svg>
            </span>
            <!--end::Svg Icon-->
          </span>
          <span class="menu-title">{% translate 'Pages' %}</span>
          <span class="menu-arrow"></span>
        </span>
          <div class="menu-sub menu-sub-accordion">
            <div class="menu-item">
              <a class="menu-link" href="{% url 'pages:list' %}">
                <span class="menu-bullet">
                  <span class="bullet bullet-dot"></span>
                </span>
                <span class="menu-title">{% translate 'FlatPage' %}</span>
              </a>
            </div>
          </div>
        </div>
      {% endif %}

    {% endif %}
  </div>
  <!--end::Menu-->
</div>
<!--end::Aside Menu-->
<script defer>
  KTMenu.createInstances("#kt_aside_menu_wrapper");
  var menuElement = document.querySelector("#kt_aside_menu_wrapper");
  var menu = KTMenu.getInstance(menuElement);
  var data_url = KTCookie.get("selected_menu_item");
  var item = document.querySelector(`[data-url='${data_url}']`);
  if (data_url != '{{ request.path }}') {
    menu.reset(item);
    KTCookie.remove("selected_menu_item");
  } else {
    var parentItemElements = menu.getItemParentElements(item);
    var parentItem = parentItemElements[0];
    menu.show(parentItem);
    menu.show(item);
    $(item).addClass('active');
    $(parentItem).addClass('here');
  }
</script>
